<?xml version="1.0" encoding="utf-8"?>

<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="daadbot">

  <xacro:arg name="is_sim" default="true"/>

  <xacro:arg name = "is_ignition" default="true"/>

  <xacro:include filename = "$(find daadbot_desc)/urdf/urdf_table_vel/daadbot_gazebo.xacro"/>
  <xacro:include filename = "$(find daadbot_desc)/urdf/urdf_table_vel/daadbot_ros2_control.xacro"/>
  <xacro:include filename = "$(find daadbot_desc)/urdf/urdf_table_vel/table.xacro"/>

 
  <xacro:property name='PI' value='3.141592653589793'/>
  <xacro:property name='velocity' value='20.0'/>
  <xacro:property name='effort' value='200.0'/>

  <link name="world"/>

  <!-- Attach the Table to the World -->
  <joint name="table_joint" type="fixed">
    <parent link="world"/>
    <child link="table_top"/>
    <origin xyz="0 0 0" rpy="0 0 0"/> <!-- Adjust height of table -->
  </joint>

  <!-- Attach Daadbot to the Table -->
  <joint name="base_joint" type="fixed">
    <parent link="table_top"/>
    <child link="base_link"/>
    <origin xyz="0.30 0 1.017" rpy="0 0 0"/> <!-- Adjust position of the robot on the table -->
  </joint>
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="-0.00246645540256236 -0.00131466478904116 0.00320374562257973"
        rpy="0 0 0" />
      <mass
        value="6.91122989464636" />
      <inertia
        ixx="0.0466171750852481"
        ixy="0.00010076855342015"
        ixz="5.14819747192778E-08"
        iyy="0.0464821203083076"
        iyz="-1.44621889265211E-07"
        izz="0.0929840869855057" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="Link_1">
    <inertial>
      <origin
        xyz="0.0222146013900772 2.73568109690481E-06 0.0747841784291177"
        rpy="0 0 0" />
      <mass
        value="2.34948803406793" />
      <inertia
        ixx="0.00332922517000865"
        ixy="1.64875308454708E-07"
        ixz="-0.000433929392474112"
        iyy="0.00524724735039028"
        iyz="2.38505609352415E-07"
        izz="0.00419520671173006" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_1"
    type="revolute">
    <origin
      xyz="-0.0029638 -0.0015759 0.04796"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="Link_1" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-3.1"
      upper="3.2"
      effort="${effort}"
      velocity="12.776" />
  </joint>
  <link
    name="Link_2">
    <inertial>
      <origin
        xyz="0.121210588587965 0.000230649813345946 -0.049540637756618"
        rpy="0 0 0" />
      <mass
        value="2.24401700155026" />
      <inertia
        ixx="0.00389001580470153"
        ixy="1.8291659115195E-06"
        ixz="2.04233321611583E-07"
        iyy="0.00259728697678572"
        iyz="3.29392581309982E-08"
        izz="0.00312685277067708" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_2"
    type="revolute">
    <origin
      xyz="0.0400000000000002 -0.050000000000002 0.114463048454132"
      rpy="1.5707963267949 -1.83 0" />
    <parent
      link="Link_1" />
    <child
      link="Link_2" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-3.4907"
      upper="3.5236"
      effort="${effort}"
      velocity="12.776" />
  </joint>
  
  <link
    name="Link_3">
    <inertial>
      <origin
        xyz="-0.00448997206818821 -2.34751712904213E-05 0.0488571768392556"
        rpy="0 0 0" />
      <mass
        value="1.2718719681393" />
      <inertia
        ixx="0.00206983011422612"
        ixy="9.27500479472452E-08"
        ixz="3.38378548754623E-06"
        iyy="0.00129565231901482"
        iyz="2.88989653562542E-07"
        izz="0.00156994991003151" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_3"
    type="revolute">
    <origin
      xyz="0.234499999999998 0 -0.0495000000000002"
      rpy="0 1.5707963267949 0" />
    <parent
      link="Link_2" />
    <child
      link="Link_3" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-3.1"
      upper="3.2"
      effort="${effort}"
      velocity="1.0" />
  </joint>
  <link
    name="Link_4">
    <inertial>
      <origin
        xyz="-0.119169680650385 -0.000128811902195713 0.0378163924527294"
        rpy="0 0 0" />
      <mass
        value="2.67615775175726" />
      <inertia
        ixx="0.00308017562479927"
        ixy="2.47453551729311E-06"
        ixz="-7.09348932448939E-07"
        iyy="0.00238129778603005"
        iyz="-7.47320677385655E-07"
        izz="0.00293128138362422" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_4"
    type="revolute">
    <origin
      xyz="-0.0324999999999996 0 0.0750000000000004"
      rpy="-1.57 0 -1.57" />
    <parent
      link="Link_3" />
    <child
      link="Link_4" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-1.9199"
      upper="1.9199"
      effort="${effort}"
      velocity="1.0" />
  </joint>
  <link
    name="Link_5">
    <inertial>
      <origin
        xyz="0.00685541523757274 3.79292913340323E-05 0.0488580132405974"
        rpy="0 0 0" />
      <mass
        value="1.29018300951353" />
      <inertia
        ixx="0.00112308173661534"
        ixy="1.28316182440177E-06"
        ixz="-8.91005390036956E-07"
        iyy="0.000690097277055795"
        iyz="-3.23958303943101E-07"
        izz="0.000815216487439054" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_5.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_5.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_5"
    type="revolute">
    <origin
      xyz="-0.2284999036789 0 0.0330000000000004"
      rpy="3.14159265358979 -1.5707963267949 3.14159" />
    <parent
      link="Link_4" />
    <child
      link="Link_5" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-0.1"
      upper="3.4"
      effort="15"
      velocity="19.896753" />
  </joint>
  <link
    name="Link_6">
    <inertial>
      <origin
        xyz="-0.0534048711825299 4.35092388909042E-05 0.0268001409986631"
        rpy="0 0 0" />
      <mass
        value="1.30596061805535" />
      <inertia
        ixx="0.000961791856097317"
        ixy="1.00752377127578E-06"
        ixz="-2.55794494605017E-06"
        iyy="0.000676134530899485"
        iyz="-2.71811927605635E-06"
        izz="0.00084422746855334" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/link_6.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/link_6.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_6"
    type="revolute">
    <origin
      xyz="-0.0265000104908596 0 0.0575000000000075"
      rpy="-1.57 0.2967 -1.57" />
    <parent
      link="Link_5" />
    <child
      link="Link_6" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-1.5708"
      upper="1.5708"
      effort="15"
      velocity="19.897" />
  </joint>
  <link
    name="Link_7">
    <inertial>
      <origin
        xyz="-1.22738236721376E-06 1.16355040356286E-05 -0.00396913177271019"
        rpy="0 0 0" />
      <mass
        value="0.131686510129341" />
      <inertia
        ixx="6.91193962095496E-05"
        ixy="1.32697088081543E-10"
        ixz="8.85654326869473E-10"
        iyy="6.91388743027247E-05"
        iyz="2.09447730326603E-11"
        izz="0.000136853375303708" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_7.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.666666666666667 0.698039215686274 0.768627450980392 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/Link_7.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="joint_7"
    type="revolute">
    <origin
      xyz="-0.0864999036793499 0 0.0280000000004628"
      rpy="0 1.5707963267949 0" />
    <parent
      link="Link_6" />
    <child
      link="Link_7" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.1"
      upper="3.14"
      effort="15"
      velocity="19.897" />
  </joint>
  <link
    name="endeffector">
    <inertial>
      <origin
        xyz="0.0115230217195728 -0.0136127070797983 0.0256571894660979"
        rpy="0 0 0" />
      <mass
        value="0.154057788286255" />
      <inertia
        ixx="3.1964247663854E-05"
        ixy="1.07138220152465E-07"
        ixz="4.30086683390955E-12"
        iyy="2.53636526523542E-05"
        iyz="-9.8230347105402E-08"
        izz="4.73802906093003E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/endeffector.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/endeffector.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="endeffector_joint"
    type="fixed">
    <origin
      xyz="0 0 -0.00799999999954315"
      rpy="3.14159265357033 0 -3.14159265358979" />
    <parent
      link="Link_7" />
    <child
      link="endeffector" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="gear1">
    <inertial>
      <origin
        xyz="-0.00580763486929181 0.000405747920981692 -0.00150000000000011"
        rpy="0 0 0" />
      <mass
        value="0.00530003886474417" />
      <inertia
        ixx="1.81056909473447E-07"
        ixy="-3.82652046422796E-08"
        ixz="2.51961968784482E-22"
        iyy="7.53619126673464E-07"
        iyz="-2.84205585058754E-24"
        izz="9.26725977849795E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="gear1_joint"
    type="revolute">
    <origin
      xyz="-0.00375000000000747 -0.013499999998183 0.0376789689084349"
      rpy="0 1.5707963267949 0" />
    <parent
      link="endeffector" />
    <child
      link="gear1" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-0.9"
      upper="0"
      effort="5"
      velocity="10" />
  </joint>
  <link
    name="gear1_claw">
    <inertial>
      <origin
        xyz="0.023445421809937 0.00521555935278548 -0.0014999999999977"
        rpy="0 0 0" />
      <mass
        value="0.00393743096892517" />
      <inertia
        ixx="6.08354279127517E-08"
        ixy="-1.63551242432612E-07"
        ixz="1.2492000495084E-21"
        iyy="1.21174464720854E-06"
        iyz="1.75066929433463E-22"
        izz="1.26667392866791E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear1_claw.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear1_claw.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="claw_joint1"
    type="revolute">
    <origin
      xyz="-0.0309835156221249 -0.00101082129116717 0"
      rpy="3.14159265358979 0 3.14159265358979" />
    <parent
      link="gear1" />
    <child
      link="gear1_claw" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0.9"
      effort="5"
      velocity="10" />
    <mimic
      joint="base_claw_joint1"
      multiplier="1"
      offset="0" />
  </joint>
  <link
    name="gear2_link">
    <inertial>
      <origin
        xyz="-0.00530290196064154 0.000153715606715232 -0.00375000000000136"
        rpy="0 0 0" />
      <mass
        value="0.00576363113945472" />
      <inertia
        ixx="2.15932056711738E-07"
        ixy="1.70682493885657E-08"
        ixz="-3.42106080174724E-22"
        iyy="8.04260102723523E-07"
        iyz="-8.82852580465177E-23"
        izz="1.01154671272608E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear2_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear2_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="gear2_joint"
    type="revolute">
    <origin
      xyz="-0.00149999999999997 0.0134999999992435 0.0376789689087047"
      rpy="0 1.5707963267949 0" />
    <parent
      link="endeffector" />
    <child
      link="gear2_link" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="-0.9"
      upper="0.9"
      effort="5"
      velocity="10" />
    <mimic
      joint="gear1_joint"
      multiplier="-1"
      offset="0" />
  </joint>
  <link
    name="gear2_claw">
    <inertial>
      <origin
        xyz="0.0234454486039199 -0.00521543889748319 -0.00149999999999889"
        rpy="0 0 0" />
      <mass
        value="0.00393743096892518" />
      <inertia
        ixx="6.0833747461621E-08"
        ixy="1.63545329654284E-07"
        ixz="1.24391026243428E-21"
        iyy="1.21174632765968E-06"
        iyz="-1.76544893665412E-22"
        izz="1.26667392866792E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear2_claw.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/gear2_claw.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="claw_joint2"
    type="revolute">
    <origin
      xyz="-0.0309869843208653 0.000898221965043244 -0.00225000000000025"
      rpy="-3.14159265358979 0 -3.14159265358979" />
    <parent
      link="gear2_link" />
    <child
      link="gear2_claw" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-0.9"
      upper="0"
      effort="5"
      velocity="10" />
    <mimic
      joint="base_claw_joint2"
      multiplier="-1"
      offset="0" />
  </joint>
  <link
    name="base_claw_link2">
    <inertial>
      <origin
        xyz="0.0154933084655396 0.000455403986549585 0.00375000000000131"
        rpy="0 0 0" />
      <mass
        value="0.00110418822863694" />
      <inertia
        ixx="3.26224455905998E-09"
        ixy="-4.45032069336059E-09"
        ixz="1.4396798294983E-22"
        iyy="1.54535887182587E-07"
        iyz="2.999466098399E-24"
        izz="1.56149541453459E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_claw_link2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_claw_link2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="base_claw_joint2"
    type="revolute">
    <origin
      xyz="0.00149999999999995 0.00524999999997672 -0.066078968907985"
      rpy="0 1.5707963267949 0" />
    <parent
      link="Link_7" />
    <child
      link="base_claw_link2" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0.9"
      effort="5"
      velocity="10" />
    <mimic
      joint="gear1_joint"
      multiplier="-1"
      offset="0" />
  </joint>
  <link
    name="base_claw_link1">
    <inertial>
      <origin
        xyz="0.0154915529566088 -0.000511651241238725 0.00375000000000239"
        rpy="0 0 0" />
      <mass
        value="0.00110418822863695" />
      <inertia
        ixx="3.29655315677714E-09"
        ixy="4.99941634031931E-09"
        ixz="2.46402439239775E-22"
        iyy="1.54501578584872E-07"
        iyz="-9.36354721708262E-24"
        izz="1.56149541453461E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_claw_link1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba= "0.329 0.322 0.302 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://daadbot_desc/meshes/base_claw_link1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="base_claw_joint1"
    type="revolute">
    <origin
      xyz="0.00149999999999995 -0.00525000000002329 -0.066078968907985"
      rpy="0 1.5707963267949 0" />
    <parent
      link="Link_7" />
    <child
      link="base_claw_link1" />
    <axis
      xyz="0 0 -1" />
    <limit
      lower="0"
      upper="0.9"
      effort="5"
      velocity="10" />
    <mimic
      joint="gear1_joint"
      multiplier="-1"
      offset="0" />
  </joint>
</robot>